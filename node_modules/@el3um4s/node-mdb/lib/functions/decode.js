"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.decode = void 0;
// import { charCorrispondencesWin } from "./charCorrispondencesWin";
const charCorrispondencesAccess_1 = require("./charCorrispondencesAccess");
const replaceChars = async (text) => {
    let textReplaced = text;
    charCorrispondencesAccess_1.charCorrispondencesAccess.forEach((c) => {
        textReplaced = textReplaced.replaceAll(c.win, c.buffer);
    });
    return textReplaced;
    // const list = await charCorrispondencesWin();
    // const result = text.replace(/[\u0020-\u007F]/g, (char) => {
    //     const win = char.charCodeAt(0).toString(16);
    //     const buffer = char.charCodeAt(0).toString(16);
    //     const corrispondence = list.find((c) => c.win === win);
    //     if (corrispondence) {
    //     return String.fromCharCode(parseInt(corrispondence.buffer, 16));
    //     }
    //     return char;
    // });
};
const decode = async (text) => {
    const textReplaced = await replaceChars(text);
    const result = Buffer.from(textReplaced.replaceAll(" ", ""), "hex");
    return result.toString("utf8");
};
exports.decode = decode;
